# –ì–ª–∞–≤–∞ 4 ‚Äî Key Distribution and User Authentication (—à–ø–∞—Ä–≥–∞–ª–∫–∞)

**–¶–µ–ª—å:** –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã—Ö –∫–ª—é—á–µ–π –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Å–∏—Å—Ç–µ–º–∞—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Kerberos.

---

## üîπ 4.1 Symmetric Key Distribution Using Symmetric Encryption

**–ò–¥–µ—è:** –¥–≤–µ —Å—Ç–æ—Ä–æ–Ω—ã (A –∏ B) –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –æ–±—â–∏–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫—Ç–æ –¥—Ä—É–≥–æ–π –Ω–µ –∑–Ω–∞–µ—Ç. –ö–ª—é—á –Ω—É–∂–Ω–æ –¥–æ—Å—Ç–∞–≤–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ —á–∞—Å—Ç–æ –º–µ–Ω—è—Ç—å.

### ‚ñ™Ô∏è –ü—Ä–æ–±–ª–µ–º–∞

–ï—Å–ª–∏ –∫–ª—é—á –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é, —ç—Ç–æ –Ω–µ—É–¥–æ–±–Ω–æ –∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ ‚Äî –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ö–æ—Å—Ç–æ–≤ –∏ —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ —Å–µ—Ç–∏. –ü—Ä–∏ —ç—Ç–æ–º –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –∫–ª—é—á–∞ –º–æ–∂–µ—Ç —Ä–∞—Å–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ (–µ—Å–ª–∏ –Ω–æ–≤—ã–π —à–∏—Ñ—Ä—É–µ—Ç—Å—è —Å—Ç–∞—Ä—ã–º).

### ‚ñ™Ô∏è –†–µ—à–µ–Ω–∏–µ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–π —á–µ—Ä–µ–∑ KDC

**KDC (Key Distribution Center)** ‚Äî —ç—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–¥–∞—á–µ–π –∫–ª—é—á–µ–π –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —Å–µ—Ç–∏.

* –ö–∞–∂–¥—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ –∏–º–µ–µ—Ç **–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π (permanent) –∫–ª—é—á**, –æ–±—â–∏–π —Å KDC.
* –ö–æ–≥–¥–∞ –¥–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∞ (A –∏ B) —Ö–æ—Ç—è—Ç –æ–±–º–µ–Ω—è—Ç—å—Å—è –¥–∞–Ω–Ω—ã–º–∏:

  1. A ‚Üí KDC: –∑–∞–ø—Ä–æ—Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å B (–ø–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∫–∞–Ω–∞–ª—É).
  2. KDC –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç **—Å–µ–∞–Ω—Å–æ–≤—ã–π –∫–ª—é—á (session key)** ‚Äî –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∫–ª—é—á –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏.
  3. KDC —à–∏—Ñ—Ä—É–µ—Ç —ç—Ç–æ—Ç –∫–ª—é—á –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ A –∏ B –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏–º.
  4. A –∏ B —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç –æ–±—â–∞—Ç—å—Å—è, —à–∏—Ñ—Ä—É—è —Å–æ–æ–±—â–µ–Ω–∏—è —ç—Ç–∏–º —Å–µ–∞–Ω—Å–æ–≤—ã–º –∫–ª—é—á–æ–º.

**–¢–∏–ø—ã –∫–ª—é—á–µ–π:**

* **Permanent key** ‚Äî –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–µ–∫—Ä–µ—Ç –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–æ–º –∏ KDC.
* **Session key** ‚Äî –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –∫–ª—é—á –¥–ª—è —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏; —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

* –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞.
* –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤—ã–¥–∞—á–∞ –∫–ª—é—á–µ–π.
* –ì–∏–±–∫–æ—Å—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–æ–º —á–∏—Å–ª–µ —Ö–æ—Å—Ç–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**

* KDC ‚Äî –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –æ—Ç–∫–∞–∑–∞.
* –ù–µ–æ–±—Ö–æ–¥–∏–º –∑–∞—â–∏—â—ë–Ω–Ω—ã–π –∫–∞–Ω–∞–ª –º–µ–∂–¥—É KDC –∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏.

---

## üîπ 4.2 Kerberos ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ò–¥–µ—è:** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞–¥—ë–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å–µ—Ç–∏, –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—è –ø–∞—Ä–æ–ª–∏ –ø–æ —Å–µ—Ç–∏. –û—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–∏.

Kerberos –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **KDC**, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–π –Ω–∞ –¥–≤–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞:

* **AS (Authentication Server)** ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—ã–¥–∞—ë—Ç –±–∏–ª–µ—Ç –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ TGS.
* **TGS (Ticket-Granting Server)** ‚Äî –≤—ã–¥–∞—ë—Ç –±–∏–ª–µ—Ç—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º.

### ‚ñ™Ô∏è –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞–µ—Ç Kerberos

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ–¥–¥–µ–ª–∞—Ç—å —á—É–∂–æ–π ID –Ω–∞ —Ä–∞–±–æ—á–µ–π —Å—Ç–∞–Ω—Ü–∏–∏.
2. –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–µ—Ç–µ–≤–æ–π –∞–¥—Ä–µ—Å –º–∞—à–∏–Ω—ã –∏ –ø—Ä–∏—Ç–≤–æ—Ä–∏—Ç—å—Å—è –¥—Ä—É–≥–∏–º –∫–ª–∏–µ–Ω—Ç–æ–º.
3. –í–æ–∑–º–æ–∂–Ω–∞ **replay-–∞—Ç–∞–∫–∞** (–ø–µ—Ä–µ—Ö–≤–∞—Ç –∏ –ø–æ–≤—Ç–æ—Ä —Å—Ç–∞—Ä–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞).

### ‚ñ™Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏

| –°–∏–º–≤–æ–ª | –ó–Ω–∞—á–µ–Ω–∏–µ                                |
| :----: | :-------------------------------------- |
|    C   | –ö–ª–∏–µ–Ω—Ç (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)                   |
|   AS   | Authentication Server                   |
|   TGS  | Ticket-Granting Server                  |
|    V   | –°–µ—Ä–≤–µ—Ä-—Å–µ—Ä–≤–∏—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—á—Ç–∞, –ø–µ—á–∞—Ç—å) |
|   Kx   | –ö–ª—é—á, –æ–±—â–∏–π –¥–ª—è –ø–∞—Ä—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤         |

---

## üî∏ Kerberos Version 4

### üîπ –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ø–∞—Ä–æ–ª—å, –∫–ª–∏–µ–Ω—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ **AS** —Å —É–∫–∞–∑–∞–Ω–∏–µ–º ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ ID —Å–µ—Ä–≤–µ—Ä–∞ **TGS**.
2. **AS** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–æ–ª—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

   * **Ticket-granting ticket (TGT)** ‚Äî –±–∏–ª–µ—Ç –¥–ª—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ TGS.
   * **–°–µ–∞–Ω—Å–æ–≤—ã–π –∫–ª—é—á Kc,tgs**, –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á–æ–º –∏–∑ –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è **Kc**.
3. –ö–ª–∏–µ–Ω—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–æ–ª—è, –ø–æ–ª—É—á–∞–µ—Ç –±–∏–ª–µ—Ç –∏ –∫–ª—é—á. –¢–µ–ø–µ—Ä—å –ø–∞—Ä–æ–ª—å –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω.
4. –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–∫–æ–º—É-–ª–∏–±–æ —Å–µ—Ä–≤–µ—Ä—É V:

   * –ö–ª–∏–µ–Ω—Ç ‚Üí TGS: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –±–∏–ª–µ—Ç **TGT** –∏ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–∏—Å **V**.
   * TGS –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∏–ª–µ—Ç, —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –±–∏–ª–µ—Ç **Ticketv** –∏ –∫–ª—é—á **Kc,v**.
5. –ö–ª–∏–µ–Ω—Ç ‚Üí —Å–µ—Ä–≤–µ—Ä V: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç **Ticketv** –∏ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π **Authenticator**, –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π **Kc,v**.
6. –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∏–ª–µ—Ç –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä. –ü—Ä–∏ –≤–∑–∞–∏–º–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º `TS+1`.

---

### üîπ –ß—Ç–æ —Ä–µ—à–∞—é—Ç –±–∏–ª–µ—Ç—ã –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã

* **Ticket** (–±–∏–ª–µ—Ç) ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–∞—è ¬´–ø—Ä–æ–ø—É—Å–∫–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞¬ª, —à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–ª—é—á–æ–º —Å–µ—Ä–≤–µ—Ä–∞. –ö–ª–∏–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –µ—ë –ø–æ–¥–¥–µ–ª–∞—Ç—å.
* **Authenticator** ‚Äî –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ —Ç–æ–≥–æ, —á—Ç–æ –∫–ª–∏–µ–Ω—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–ª–∞–¥–µ–µ—Ç –∫–ª—é—á–æ–º —Å–µ–π—á–∞—Å (–≤–∫–ª—é—á–∞–µ—Ç ID –∏ –º–µ—Ç–∫—É –≤—Ä–µ–º–µ–Ω–∏).
* **TS –∏ Lifetime** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç replay.
* **ADC (–∞–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞)** ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–ª–µ—Ç–∞ —Å –¥—Ä—É–≥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

---

### üîπ –ü–æ—Ç–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π (–≤–µ—Ä—Å–∏—è 4)

```
(1) C ‚Üí AS: IDc, IDtgs, TS1
(2) AS ‚Üí C: E(Kc, [Kc,tgs, IDtgs, Lifetime, Tickettgs])
(3) C ‚Üí TGS: IDv, Tickettgs, Authenticatorc = E(Kc,tgs, [IDc, ADC, TS3])
(4) TGS ‚Üí C: E(Kc,tgs, [Kc,v, Ticketv])
(5) C ‚Üí V: Ticketv, Authenticatorc = E(Kc,v, [IDc, ADC, TS5])
(6) V ‚Üí C: E(Kc,v, [TS5+1])   # mutual authentication
```

**–ü–æ—Å–ª–µ —à–∞–≥–∞ (6)** –∫–ª–∏–µ–Ω—Ç –∏ —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑–¥–µ–ª—è—é—Ç –æ–±—â–∏–π `Kc,v` –∏ –º–æ–≥—É—Ç —à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Å–æ–æ–±—â–µ–Ω–∏—è.

---

## üî∏ Kerberos Version 5 ‚Äî —É–ª—É—á—à–µ–Ω–∏—è (RFC 4120)

**–¶–µ–ª—å:** —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –≤–µ—Ä—Å–∏–∏ 4.

### üîπ –û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

| –ü—Ä–æ–±–ª–µ–º–∞ –≤ v4                             | –†–µ—à–µ–Ω–∏–µ –≤ v5                                                 |
| ----------------------------------------- | ------------------------------------------------------------ |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç DES                        | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±–æ–≥–æ —à–∏—Ñ—Ä–∞ (–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞).            |
| –¢–æ–ª—å–∫–æ IP-–∞–¥—Ä–µ—Å–∞                          | –õ—é–±—ã–µ —Ç–∏–ø—ã –∞–¥—Ä–µ—Å–æ–≤ (ISO, IPX, –∏ —Ç.–¥.).                       |
| –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ (–º–∞–∫—Å. ~21 —á–∞—Å) | –Ø–≤–Ω—ã–µ –ø–æ–ª—è `from`, `till`, `renew-till` –¥–ª—è –≥–∏–±–∫–∏—Ö —Å—Ä–æ–∫–æ–≤.   |
| –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π PCBC-—Ä–µ–∂–∏–º                  | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π CBC + –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å (checksum/hash).     |
| Replay —á–µ—Ä–µ–∑ —Å—Ç–∞—Ä—ã–π –±–∏–ª–µ—Ç                 | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **subsession key** –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏. |
| –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è                  | –í–≤–µ–¥–µ–Ω—ã **forwardable/proxiable tickets**.                   |
| –ú–µ–∂—Ä–µ–∞–ª–º —Ç—Ä–µ–±—É–µ—Ç N¬≤ —Å–≤—è–∑–µ–π                | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ü–µ–ø–æ—á–µ–∫ –¥–æ–≤–µ—Ä–∏—è –º–µ–∂–¥—É —Ä–µ–∞–ª–º–∞–º–∏.                    |
| –í–æ–∑–º–æ–∂–µ–Ω –æ—Ñ–ª–∞–π–Ω-–±—Ä—É—Ç—Ñ–æ—Ä—Å –ø–∞—Ä–æ–ª—è           | –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º **pre-authentication**.                    |

---

### üîπ –ü–æ—Ç–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π (v5)

```
(1) C ‚Üí AS: Options, IDc, Realm, IDtgs, Times, Nonce1
(2) AS ‚Üí C: E(Kc, [Kc,tgs, Times, Nonce1, IDtgs, Tickettgs])
(3) C ‚Üí TGS: Options, IDv, Times, Nonce2, Tickettgs, Authenticatorc
(4) TGS ‚Üí C: E(Kc,tgs, [Kc,v, Times, Nonce2, IDv, Ticketv])
(5) C ‚Üí V: Options, Ticketv, Authenticatorc
(6) V ‚Üí C: E(Kc,v, [TS2, Subkey?, Seq#?])
```

**–ù–æ–≤–æ–µ:**

* `Subkey` ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª—é—á –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
* `Seq#` ‚Äî –Ω—É–º–µ—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (–∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–æ–≤/–ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫).
* `Options` ‚Äî —Ñ–ª–∞–≥–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `forwardable`, `renewable`, `proxiable`).

---

### üîπ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Kerberos v5

* –ì–∏–±–∫–æ—Å—Ç—å –≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞—Ö –∏ –∞–¥—Ä–µ—Å–∞—Ö.
* –ü–æ–≤—ã—à–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç replay –∏ –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞.
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–µ–∂—Ä–µ–∞–ª–º–æ–≤–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (ASN.1/BER) –¥–ª—è –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

---

## üîπ –í—ã–≤–æ–¥—ã –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º

* **KDC** ‚Äî –æ—Å–Ω–æ–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤—ã–¥–∞—á–∏ –∫–ª—é—á–µ–π, –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.
* **Kerberos** ‚Äî –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ KDC —Å —Ç–∏–∫–µ—Ç–∞–º–∏ –∏ —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º.
* **–í–µ—Ä—Å–∏—è 5** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç (RFC 4120), —É—Å—Ç—Ä–∞–Ω—è—é—â–∏–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è DES-—ç–ø–æ—Ö–∏.

---

